{
  "name": "code-completion",
  "version": 0.1,
  "imports": [
    "https://get.silverbullet.md/global.plug.json"
  ],
  "functions": {
    "helloWorld": {
      "command": {
        "name": "OpenAI: Full Page Completion"
      },
      "code": "(() => { var mod=(()=>{var c=Object.defineProperty;var g=Object.getOwnPropertyDescriptor;var d=Object.getOwnPropertyNames;var f=Object.prototype.hasOwnProperty;var p=(e,r)=>{for(var o in r)c(e,o,{get:r[o],enumerable:!0})},x=(e,r,o,n)=>{if(r&&typeof r==\"object\"||typeof r==\"function\")for(let i of d(r))!f.call(e,i)&&i!==o&&c(e,i,{get:()=>r[i],enumerable:!(n=g(r,i))||n.enumerable});return e};var P=e=>x(c({},\"__esModule\",{value:!0}),e);var oe={};p(oe,{default:()=>re});typeof self>\"u\"&&(self={syscall:()=>{throw new Error(\"Not implemented here\")}});var t=self.syscall;var s={};p(s,{dispatch:()=>I,enableReadOnlyMode:()=>U,filterBox:()=>_,flashNotification:()=>T,getCurrentPage:()=>h,getCursor:()=>C,getSelection:()=>w,getText:()=>v,hidePanel:()=>O,insertAtCursor:()=>j,insertAtPos:()=>q,matchBefore:()=>N,moveCursor:()=>B,navigate:()=>k,openUrl:()=>R,prompt:()=>L,reloadPage:()=>S,replaceRange:()=>K,save:()=>M,setPage:()=>b,setSelection:()=>A,showPanel:()=>F});function h(){return t(\"editor.getCurrentPage\")}function b(e){return t(\"editor.setPage\",e)}function v(){return t(\"editor.getText\")}function C(){return t(\"editor.getCursor\")}function w(){return t(\"editor.getSelection\")}function A(e,r){return t(\"editor.setSelection\",e,r)}function M(){return t(\"editor.save\")}function k(e,r,o=!1){return t(\"editor.navigate\",e,r,o)}function S(){return t(\"editor.reloadPage\")}function R(e){return t(\"editor.openUrl\",e)}function T(e,r=\"info\"){return t(\"editor.flashNotification\",e,r)}function _(e,r,o=\"\",n=\"\"){return t(\"editor.filterBox\",e,r,o,n)}function F(e,r,o,n=\"\"){return t(\"editor.showPanel\",e,r,o,n)}function O(e){return t(\"editor.hidePanel\",e)}function q(e,r){return t(\"editor.insertAtPos\",e,r)}function K(e,r,o){return t(\"editor.replaceRange\",e,r,o)}function B(e){return t(\"editor.moveCursor\",e)}function j(e){return t(\"editor.insertAtCursor\",e)}function N(e){return t(\"editor.matchBefore\",e)}function I(e){return t(\"editor.dispatch\",e)}function L(e,r=\"\"){return t(\"editor.prompt\",e,r)}function U(e){return t(\"editor.enableReadOnlyMode\",e)}var a={};p(a,{deleteAttachment:()=>ee,deletePage:()=>G,getAttachmentMeta:()=>X,getPageMeta:()=>J,listAttachments:()=>W,listPages:()=>D,listPlugs:()=>H,readAttachment:()=>Y,readPage:()=>Q,writeAttachment:()=>Z,writePage:()=>V});function D(e=!1){return t(\"space.listPages\",e)}function J(e){return t(\"space.getPageMeta\",e)}function Q(e){return t(\"space.readPage\",e)}function V(e,r){return t(\"space.writePage\",e,r)}function G(e){return t(\"space.deletePage\",e)}function H(){return t(\"space.listPlugs\")}function W(){return t(\"space.listAttachments\")}function X(e){return t(\"space.getAttachmentMeta\",e)}function Y(e){return t(\"space.readAttachment\",e)}function Z(e,r,o){return t(\"space.writeAttachment\",e,r,o)}function ee(e){return t(\"space.deleteAttachment\",e)}var m=class{constructor(r){this.apiKey=r}async createCodeCompletion(r){return(await fetch(\"https://api.openai.com/v1/completions\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\",Authorization:`Bearer ${this.apiKey}`},body:JSON.stringify(r)})).json()}async createModeration(r){return(await fetch(\"https://api.openai.com/v1/moderations\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\",Authorization:`Bearer ${this.apiKey}`},body:JSON.stringify(r)})).json()}};async function u(){let e=await a.readPage(\"/openai/settings\"),r=new m(e),o=await s.getText(),l=(await r.createCodeCompletion({model:\"code-davinci-002\",prompt:o,max_tokens:100,temperature:.7,top_p:1,n:1,stream:!1,logprobs:null,stop:\"\"})).choices[0].text;s.insertAtCursor(l)}var re=u;return P(oe);})();\n return mod;})()"
    },
    "test": {
      "command": {
        "name": "OpenAI: Selection Completion"
      },
      "code": "(() => { var mod=(()=>{var c=Object.defineProperty;var g=Object.getOwnPropertyDescriptor;var d=Object.getOwnPropertyNames;var f=Object.prototype.hasOwnProperty;var p=(e,r)=>{for(var o in r)c(e,o,{get:r[o],enumerable:!0})},x=(e,r,o,n)=>{if(r&&typeof r==\"object\"||typeof r==\"function\")for(let i of d(r))!f.call(e,i)&&i!==o&&c(e,i,{get:()=>r[i],enumerable:!(n=g(r,i))||n.enumerable});return e};var P=e=>x(c({},\"__esModule\",{value:!0}),e);var oe={};p(oe,{default:()=>re});typeof self>\"u\"&&(self={syscall:()=>{throw new Error(\"Not implemented here\")}});var t=self.syscall;var s={};p(s,{dispatch:()=>I,enableReadOnlyMode:()=>U,filterBox:()=>_,flashNotification:()=>T,getCurrentPage:()=>h,getCursor:()=>C,getSelection:()=>w,getText:()=>v,hidePanel:()=>O,insertAtCursor:()=>j,insertAtPos:()=>q,matchBefore:()=>N,moveCursor:()=>B,navigate:()=>k,openUrl:()=>R,prompt:()=>L,reloadPage:()=>S,replaceRange:()=>K,save:()=>M,setPage:()=>b,setSelection:()=>A,showPanel:()=>F});function h(){return t(\"editor.getCurrentPage\")}function b(e){return t(\"editor.setPage\",e)}function v(){return t(\"editor.getText\")}function C(){return t(\"editor.getCursor\")}function w(){return t(\"editor.getSelection\")}function A(e,r){return t(\"editor.setSelection\",e,r)}function M(){return t(\"editor.save\")}function k(e,r,o=!1){return t(\"editor.navigate\",e,r,o)}function S(){return t(\"editor.reloadPage\")}function R(e){return t(\"editor.openUrl\",e)}function T(e,r=\"info\"){return t(\"editor.flashNotification\",e,r)}function _(e,r,o=\"\",n=\"\"){return t(\"editor.filterBox\",e,r,o,n)}function F(e,r,o,n=\"\"){return t(\"editor.showPanel\",e,r,o,n)}function O(e){return t(\"editor.hidePanel\",e)}function q(e,r){return t(\"editor.insertAtPos\",e,r)}function K(e,r,o){return t(\"editor.replaceRange\",e,r,o)}function B(e){return t(\"editor.moveCursor\",e)}function j(e){return t(\"editor.insertAtCursor\",e)}function N(e){return t(\"editor.matchBefore\",e)}function I(e){return t(\"editor.dispatch\",e)}function L(e,r=\"\"){return t(\"editor.prompt\",e,r)}function U(e){return t(\"editor.enableReadOnlyMode\",e)}var a={};p(a,{deleteAttachment:()=>ee,deletePage:()=>G,getAttachmentMeta:()=>X,getPageMeta:()=>J,listAttachments:()=>W,listPages:()=>D,listPlugs:()=>H,readAttachment:()=>Y,readPage:()=>Q,writeAttachment:()=>Z,writePage:()=>V});function D(e=!1){return t(\"space.listPages\",e)}function J(e){return t(\"space.getPageMeta\",e)}function Q(e){return t(\"space.readPage\",e)}function V(e,r){return t(\"space.writePage\",e,r)}function G(e){return t(\"space.deletePage\",e)}function H(){return t(\"space.listPlugs\")}function W(){return t(\"space.listAttachments\")}function X(e){return t(\"space.getAttachmentMeta\",e)}function Y(e){return t(\"space.readAttachment\",e)}function Z(e,r,o){return t(\"space.writeAttachment\",e,r,o)}function ee(e){return t(\"space.deleteAttachment\",e)}var m=class{constructor(r){this.apiKey=r}async createCodeCompletion(r){return(await fetch(\"https://api.openai.com/v1/completions\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\",Authorization:`Bearer ${this.apiKey}`},body:JSON.stringify(r)})).json()}async createModeration(r){return(await fetch(\"https://api.openai.com/v1/moderations\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\",Authorization:`Bearer ${this.apiKey}`},body:JSON.stringify(r)})).json()}};async function u(){let e=await a.readPage(\"/openai/settings\"),r=await s.getSelection(),n=(await s.getText()).slice(r.from,r.to),l=(await new m(e).createCodeCompletion({model:\"code-davinci-002\",prompt:n,max_tokens:100,temperature:.7,top_p:1,n:1,stream:!1,logprobs:null,stop:\"\"})).choices[0].text;s.insertAtCursor(l)}var re=u;return P(oe);})();\n return mod;})()"
    }
  },
  "assets": {}
}